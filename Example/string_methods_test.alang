// == std.string 扩展方法测试 ==
import std.string.*;

println("=== std.string 扩展方法测试 ===\n");

// 1. replaceAll 测试
println("== replaceAll 测试 ==");
let text = "hello world, hello universe";
println("原文本:", text);
let replaced = replaceAll(text, "hello", "hi");
println("replaceAll('hello', 'hi'):", replaced);

let text2 = "a-b-c-d-e";
println("原文本:", text2);
let replaced2 = replaceAll(text2, "-", " ");
println("replaceAll('-', ' '):", replaced2);

// 测试空搜索字符串
let empty = replaceAll("test", "", "x");
println("replaceAll(空搜索):", empty);

// 2. repeat 测试
println("\n== repeat 测试 ==");
let str = "abc";
println("原字符串:", str);
println("repeat(3):", repeat(str, 3));
println("repeat(0):", repeat(str, 0));
println("repeat(1):", repeat(str, 1));

let dash = "-";
println("repeat('-', 10):", repeat(dash, 10));

// 3. localeCompare 测试
println("\n== localeCompare 测试 ==");
println("localeCompare('a', 'b'):", localeCompare("a", "b"));  // -1
println("localeCompare('b', 'a'):", localeCompare("b", "a"));  // 1
println("localeCompare('a', 'a'):", localeCompare("a", "a"));  // 0
println("localeCompare('apple', 'banana'):", localeCompare("apple", "banana"));  // -1
println("localeCompare('zoo', 'ant'):", localeCompare("zoo", "ant"));  // 1

// 4. 组合使用
println("\n== 组合使用 ==");
let template = "Hello {name}, welcome to {place}!";
println("模板:", template);
let step1 = replaceAll(template, "{name}", "Alice");
let step2 = replaceAll(step1, "{place}", "ALang");
println("替换后:", step2);

// 创建分隔符
let separator = repeat("=", 40);
println("\n" + separator);
println("测试完成");
println(separator);

println("\n=== std.string 扩展方法测试完成 ===");
